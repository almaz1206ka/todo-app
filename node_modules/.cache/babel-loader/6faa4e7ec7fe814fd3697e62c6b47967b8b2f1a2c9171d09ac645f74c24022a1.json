{"ast":null,"code":"import{Component}from'react';import{v4 as uuidv4}from'uuid';import{formatDistanceToNow}from'date-fns';import NewTaskForm from'./NewTaskForm.jsx';import TaskList from'./TaskList.jsx';import Footer from'./Footer.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class TaskContainer extends Component{constructor(props){super(props);this.handleChange=event=>{if(event.target.value!==''){this.setState({task:event.target.value});}};this.handleSubmit=event=>{event.preventDefault();const newItem={task:this.state.task,editInput:'',id:this.state.id,checked:false,visible:true,edit:false,date:new Date(),createTime:'now'};const updateItem=[newItem,...this.state.tasks];if(event.target.value&&event.key==='Enter'){event.target.value='';this.setState({tasks:updateItem,id:uuidv4(),edit:false,checked:this.state.checked});}};this.reloadTimer=()=>{if(this.state.tasks.length>0){const timer=this.state.tasks.map(item=>item&&{...item,createTime:formatDistanceToNow(item.date,{addSuffix:true,includeSeconds:true})});this.setState({tasks:timer});}};this.deleteTask=id=>{const filteredItems=this.state.tasks.filter(item=>item.id!==id);this.setState({tasks:filteredItems});};this.editTask=id=>{const selectedTask=this.state.tasks.map(item=>item.id===id&&item.edit===false?{...item,edit:true}:{...item,edit:false});this.setState({tasks:selectedTask});};this.editTaskInput=e=>{if(e.target.value!==''){this.setState({editInput:e.target.value});}};this.editTaskSubmit=e=>{e.preventDefault();const selectedTask=this.state.tasks.map(item=>item.edit===true?{...item,edit:false,task:this.state.editInput,date:new Date()}:{...item});if(e.key==='Enter'){this.setState({tasks:selectedTask});}};this.checkboxChange=id=>{const selectedTask=this.state.tasks.map(item=>item.id===id?{...item,checked:!item.checked}:{...item});this.setState({tasks:selectedTask});};this.clearList=()=>{const completedTask=this.state.tasks.filter(item=>item.checked!==true);this.setState({tasks:completedTask});};this.allList=()=>{const selectedTask=this.state.tasks.map(item=>item&&{...item,visible:true});this.setState({tasks:selectedTask});};this.activeList=()=>{const selectedTask=this.state.tasks.map(item=>item.checked===false?{...item,visible:true}:{...item,visible:false});this.setState({tasks:selectedTask});};this.completedList=()=>{const selectedTask=this.state.tasks.map(item=>item.checked!==false?{...item,visible:true}:{...item,visible:false});const completedCount=this.state.tasks.filter(item=>item.checked===true).length;if(completedCount!==0){this.setState({tasks:selectedTask});}};this.tasksLeft=()=>{const findedTask=this.state.tasks.filter(item=>item.checked===false);this.setState({taskLeft:findedTask.length});};this.state={task:'',id:uuidv4(),tasks:[],taskLeft:0};}componentDidUpdate(){this.countTimer=setInterval(()=>this.tasksLeft());}componentWillUnmount(){clearInterval(this.countTimer);}render(){return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(NewTaskForm,{handleChange:this.handleChange,handleSubmit:this.handleSubmit}),/*#__PURE__*/_jsx(TaskList,{tasks:this.state.tasks,task:this.state.task,checkboxChange:this.checkboxChange,editTask:this.editTask,editTaskInput:this.editTaskInput,editTaskSubmit:this.editTaskSubmit,reloadTimer:this.reloadTimer,deleteTask:this.deleteTask}),/*#__PURE__*/_jsx(Footer,{clearTasks:this.clearList,allList:this.allList,activeList:this.activeList,completedList:this.completedList,tasksLeft:this.state.taskLeft})]});}}export default TaskContainer;","map":{"version":3,"names":["Component","v4","uuidv4","formatDistanceToNow","NewTaskForm","TaskList","Footer","jsx","_jsx","jsxs","_jsxs","TaskContainer","constructor","props","handleChange","event","target","value","setState","task","handleSubmit","preventDefault","newItem","state","editInput","id","checked","visible","edit","date","Date","createTime","updateItem","tasks","key","reloadTimer","length","timer","map","item","addSuffix","includeSeconds","deleteTask","filteredItems","filter","editTask","selectedTask","editTaskInput","e","editTaskSubmit","checkboxChange","clearList","completedTask","allList","activeList","completedList","completedCount","tasksLeft","findedTask","taskLeft","componentDidUpdate","countTimer","setInterval","componentWillUnmount","clearInterval","render","className","children","clearTasks"],"sources":["C:/Users/Компудахтер/Desktop/учеба/todo_app/todo/src/components/TaskContainer.jsx"],"sourcesContent":["import { Component } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { formatDistanceToNow } from 'date-fns';\n\nimport NewTaskForm from './NewTaskForm.jsx';\nimport TaskList from './TaskList.jsx';\nimport Footer from './Footer.jsx';\n\nclass TaskContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      task: '',\n      id: uuidv4(),\n      tasks: [],\n      taskLeft: 0\n    };\n  }\n\n  handleChange = (event) => {\n    if (event.target.value !== '') {\n      this.setState({\n        task: event.target.value\n      });\n    }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const newItem = {\n      task: this.state.task,\n      editInput: '',\n      id: this.state.id,\n      checked: false,\n      visible: true,\n      edit: false,\n      date: new Date(),\n      createTime: 'now'\n    };\n    const updateItem = [newItem, ...this.state.tasks];\n    if (event.target.value && event.key === 'Enter') {\n      event.target.value = '';\n      this.setState({\n        tasks: updateItem,\n        id: uuidv4(),\n        edit: false,\n        checked: this.state.checked\n      });\n    }\n  };\n\n  reloadTimer = () => {\n    if (this.state.tasks.length > 0) {\n      const timer = this.state.tasks.map(\n        (item) =>\n          item && { ...item, createTime: formatDistanceToNow(item.date, { addSuffix: true, includeSeconds: true }) }\n      );\n      this.setState({\n        tasks: timer\n      });\n    }\n  };\n\n  componentDidUpdate() {\n    this.countTimer = setInterval(() => this.tasksLeft());\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.countTimer);\n  }\n\n  deleteTask = (id) => {\n    const filteredItems = this.state.tasks.filter((item) => item.id !== id);\n    this.setState({\n      tasks: filteredItems\n    });\n  };\n\n  editTask = (id) => {\n    const selectedTask = this.state.tasks.map((item) =>\n      item.id === id && item.edit === false ? { ...item, edit: true } : { ...item, edit: false }\n    );\n    this.setState({\n      tasks: selectedTask\n    });\n  };\n\n  editTaskInput = (e) => {\n    if (e.target.value !== '') {\n      this.setState({\n        editInput: e.target.value\n      });\n    }\n  };\n\n  editTaskSubmit = (e) => {\n    e.preventDefault();\n    const selectedTask = this.state.tasks.map((item) =>\n      item.edit === true ? { ...item, edit: false, task: this.state.editInput, date: new Date() } : { ...item }\n    );\n    if (e.key === 'Enter') {\n      this.setState({\n        tasks: selectedTask\n      });\n    }\n  };\n\n  checkboxChange = (id) => {\n    const selectedTask = this.state.tasks.map((item) =>\n      item.id === id ? { ...item, checked: !item.checked } : { ...item }\n    );\n    this.setState({\n      tasks: selectedTask\n    });\n  };\n\n  clearList = () => {\n    const completedTask = this.state.tasks.filter((item) => item.checked !== true);\n    this.setState({\n      tasks: completedTask\n    });\n  };\n\n  allList = () => {\n    const selectedTask = this.state.tasks.map((item) => item && { ...item, visible: true });\n    this.setState({\n      tasks: selectedTask\n    });\n  };\n\n  activeList = () => {\n    const selectedTask = this.state.tasks.map((item) =>\n      item.checked === false ? { ...item, visible: true } : { ...item, visible: false }\n    );\n    this.setState({\n      tasks: selectedTask\n    });\n  };\n\n  completedList = () => {\n    const selectedTask = this.state.tasks.map((item) =>\n      item.checked !== false ? { ...item, visible: true } : { ...item, visible: false }\n    );\n    const completedCount = this.state.tasks.filter((item) => item.checked === true).length;\n    if (completedCount !== 0) {\n      this.setState({\n        tasks: selectedTask\n      });\n    }\n  };\n\n  tasksLeft = () => {\n    const findedTask = this.state.tasks.filter((item) => item.checked === false);\n    this.setState({\n      taskLeft: findedTask.length\n    });\n  };\n\n  render() {\n    return (\n      <section className=\"todoapp\">\n        <NewTaskForm handleChange={this.handleChange} handleSubmit={this.handleSubmit} />\n        <TaskList\n          tasks={this.state.tasks}\n          task={this.state.task}\n          checkboxChange={this.checkboxChange}\n          editTask={this.editTask}\n          editTaskInput={this.editTaskInput}\n          editTaskSubmit={this.editTaskSubmit}\n          reloadTimer={this.reloadTimer}\n          deleteTask={this.deleteTask}\n        />\n        <Footer\n          clearTasks={this.clearList}\n          allList={this.allList}\n          activeList={this.activeList}\n          completedList={this.completedList}\n          tasksLeft={this.state.taskLeft}\n        />\n      </section>\n    );\n  }\n}\n\nexport default TaskContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}